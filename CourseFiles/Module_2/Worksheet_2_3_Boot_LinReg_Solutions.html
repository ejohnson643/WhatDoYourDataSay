
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>GUIDE to Worksheet 2.3 &#8212; What Do Your Data Say?</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Assignment 2" href="Assignment_2.html" />
    <link rel="prev" title="Worksheet 2.3: Bootstrapping linear regression" href="Worksheet_2_3_Boot_LinReg.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/PCA_Animation_WDYDS.gif" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">What Do Your Data Say?</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    What Do Your Data Say?
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Resources.html">
   Course Resources
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../AboutUs.html">
     About Us
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../CurriculumAlignmentTables.html">
     Curriculum Alignment Tables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Rubric.html">
     Rubric
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../HowTo_AssignmentAttempt.html">
     How-To: Make an Assignment Attempt
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../HowTo_AssignmentCompletion.html">
     How-To: Complete Assignments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../HowTo_SelfAssessment.html">
     How-To: Self-Assessment
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../Modules.html">
   Modules
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../Module_0/Module_0.html">
     Module 0: Python Tutorial
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Module_1/Module_1.html">
     Module 1: The Basics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Module1_CourseNotes.html">
       Module 1: The Basics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Worksheet_1_1_CoinFlipping.html">
       Worksheet 1.1: Coin Tossing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Worksheet_1_1_CoinFlipping_Solutions.html">
       SOLUTIONS to Worksheet 1.1: Coin Tossing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Worksheet_1_2_SquareRootN.html">
       Worksheet 1.2: The Spread in Distributions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Worksheet_1_2_SquareRootN_Guide.html">
       GUIDE to Worksheet 1.2: The Spread in Distributions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Worksheet_1_3_EffectOfPriors.html">
       Worksheet 1.3: Bayes’ Theorem and the Effect of Priors
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Worksheet_1_3_EffectOfPriors_Guide.html">
       GUIDE to Worksheet 1.3: Bayes’ Theorem and the Effect of Priors
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Assignment_1.html">
       Assignment 1
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Module_1/Assignment1_Hints.html">
       Assignment 1: Hints and guidance
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="Module_2.html">
     Module 2: Parameter Estimation and Model Fitting
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="Module2_CourseNotes.html">
       Module 2: Parameter Estimation and Model Fitting
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Worksheet_2_1_Bootstrapping.html">
       Worksheet 2.1: An introdution to bootstrapping
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Worksheet_2_1_Bootstrapping_Solutions.html">
       GUIDE to Worksheet 2.1
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Worksheet_2_2_OLS_LinReg.html">
       Worksheet 2.2: OLS Linear Regression
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Worksheet_2_2_OLS_LinReg_Solutions.html">
       GUIDE to Worksheet 2.2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Worksheet_2_3_Boot_LinReg.html">
       Worksheet 2.3: Bootstrapping linear regression
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       GUIDE to Worksheet 2.3
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Assignment_2.html">
       Assignment 2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Assignment2_Hints.html">
       Assignment 2: Hints and Guidance
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Module_3/Module_3.html">
     Module 3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Module_4/Module_4.html">
     Module 4
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../markdown.html">
   Markdown Files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../markdown-notebooks.html">
   Notebooks with MyST Markdown
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../notebooks.html">
   Content with notebooks
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/ejohnson643/WhatDoYourDataSay/main?urlpath=tree/CourseFiles/CourseFiles/Module_2/Worksheet_2_3_Boot_LinReg_Solutions.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ejohnson643/WhatDoYourDataSay"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ejohnson643/WhatDoYourDataSay/issues/new?title=Issue%20on%20page%20%2FCourseFiles/Module_2/Worksheet_2_3_Boot_LinReg_Solutions.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/CourseFiles/Module_2/Worksheet_2_3_Boot_LinReg_Solutions.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1">
   Part 1
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2">
   Part 2.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-3">
   Part 3.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-4">
   Part 4.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-5">
   Part 5.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-6">
   Part 6.
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>GUIDE to Worksheet 2.3</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1">
   Part 1
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2">
   Part 2.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-3">
   Part 3.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-4">
   Part 4.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-5">
   Part 5.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-6">
   Part 6.
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="guide-to-worksheet-2-3">
<h1>GUIDE to Worksheet 2.3<a class="headerlink" href="#guide-to-worksheet-2-3" title="Permalink to this headline">#</a></h1>
<p>This notebook is meant to provide hints and guidance on how to complete Worksheet 2.3: Bootstrapping linear regression.  It will not necessarily answer every part of every problem, but it will get you to the interesting points of the worksheet.</p>
<p>Also, these guides may be useful for you as you are building up your coding toolkit to see different ways to execute different tasks in Python. I am not necessarily showing the most efficient or elegant code, but trying to illustrate different ways to do things.  You should always use the code you feel you can understand best.</p>
<hr class="docutils" />
<p>First, let’s take care of our imported modules.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span> <span class="k">as</span> <span class="n">skLinReg</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">color_codes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<p>In this worksheet, you will be working with the <a class="reference external" href="https://github.com/ejohnson643/WhatDoYourDataSay/blob/main/CourseFiles/Module_2/Resources/auto-mpg.data">linked data set</a>, which is described <a class="reference external" href="https://github.com/ejohnson643/WhatDoYourDataSay/blob/main/CourseFiles/Module_2/Resources/auto-mpg.names">here</a>.</p>
<p>We will be performing estimation of the model parameters <span class="math notranslate nohighlight">\(\beta_0\)</span>, <span class="math notranslate nohighlight">\(\beta_3\)</span>, and <span class="math notranslate nohighlight">\(\beta_6\)</span> in the model:</p>
<div class="amsmath math notranslate nohighlight" id="equation-42f9f5b4-59df-427c-bcef-a71921e440dc">
<span class="eqno">(30)<a class="headerlink" href="#equation-42f9f5b4-59df-427c-bcef-a71921e440dc" title="Permalink to this equation">#</a></span>\[\begin{equation}
x_0 = \beta_0 + \beta_3x_3 + \beta_6x_6
\end{equation}\]</div>
<p>That is, we think that the first measurement in each observation depends linearly on the <strong>4th</strong> and <strong>7th</strong>.  It will be up to you to use the metadata to learn what these measurements are.</p>
<p>At the end of this worksheet, you should have a figure that shows the model, the data, the parameter estimates, and the spread in those parameter estimates.  This can be one panel or many, but it should be one easy-to-understand figure that has all of those components.</p>
<section id="part-1">
<h2>Part 1<a class="headerlink" href="#part-1" title="Permalink to this headline">#</a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">open</span></code> and <code class="docutils literal notranslate"><span class="pre">file.readlines</span></code> functions to open the data set.  How does it seem that the measurements in each line of the data are organized?  What type of data are the lines?  How can we <code class="docutils literal notranslate"><span class="pre">split</span></code> the lines and grab the measurements we want (1st, 4th, and 7th columns)?  How can we do this repeatedly for all lines of the data?  You may also have to check the data for missing or invalid values!</p>
<hr class="docutils" />
<p>Let’s first try and open the data and see what we’re dealing with. The first thing we can try, although it’s not always useful, is to simply use <code class="docutils literal notranslate"><span class="pre">open</span></code> and <code class="docutils literal notranslate"><span class="pre">file.readlines</span></code> or <code class="docutils literal notranslate"><span class="pre">file.read</span></code> to see everything in raw ascii.</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mpgData</span> <span class="o">=</span> <span class="s2">&quot;auto-mpg.data&quot;</span>
<span class="n">mpgNames</span> <span class="o">=</span> <span class="s2">&quot;auto-mpg.names&quot;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./Resources/&quot;</span> <span class="o">+</span> <span class="n">mpgNames</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>  <span class="c1">## Try f.readlines() and see what happens!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1. Title: Auto-Mpg Data

2. Sources:
   (a) Origin:  This dataset was taken from the StatLib library which is
                maintained at Carnegie Mellon University. The dataset was 
                used in the 1983 American Statistical Association Exposition.
   (c) Date: July 7, 1993

3. Past Usage:
    -  See 2b (above)
    -  Quinlan,R. (1993). Combining Instance-Based and Model-Based Learning.
       In Proceedings on the Tenth International Conference of Machine 
       Learning, 236-243, University of Massachusetts, Amherst. Morgan
       Kaufmann.

4. Relevant Information:

   This dataset is a slightly modified version of the dataset provided in
   the StatLib library.  In line with the use by Ross Quinlan (1993) in
   predicting the attribute &quot;mpg&quot;, 8 of the original instances were removed 
   because they had unknown values for the &quot;mpg&quot; attribute.  The original 
   dataset is available in the file &quot;auto-mpg.data-original&quot;.

   &quot;The data concerns city-cycle fuel consumption in miles per gallon,
    to be predicted in terms of 3 multivalued discrete and 5 continuous
    attributes.&quot; (Quinlan, 1993)

5. Number of Instances: 398

6. Number of Attributes: 9 including the class attribute

7. Attribute Information:

    1. mpg:           continuous
    2. cylinders:     multi-valued discrete
    3. displacement:  continuous
    4. horsepower:    continuous
    5. weight:        continuous
    6. acceleration:  continuous
    7. model year:    multi-valued discrete
    8. origin:        multi-valued discrete
    9. car name:      string (unique for each instance)

8. Missing Attribute Values:  horsepower has 6 missing values
</pre></div>
</div>
</div>
</div>
<p>We can see that the <code class="docutils literal notranslate"><span class="pre">auto-mpg.names</span></code> file contains a description of the data set!  This means that the model we want to explore is the linear relationship between horsepower and model year and mpg.</p>
<p>Let’s look at the <code class="docutils literal notranslate"><span class="pre">auto-mpg.data</span></code> now.</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./Resources/&quot;</span> <span class="o">+</span> <span class="n">mpgData</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>18.0   8   307.0      130.0      3504.      12.0   70  1	&quot;chevrolet chevelle malibu&quot;
15.0   8   350.0      165.0      3693.      11.5   70  1	&quot;buick skylark 320&quot;
18.0   8   318.0      150.0      3436.      11.0   70  1	&quot;plymouth satellite&quot;
16.0   8   304.0      150.0      3433.      12.0   70  1	&quot;amc rebel sst&quot;
17.0   8   302.0      140.0      3449.      10.5   70  1	&quot;ford torino&quot;
15.0   8   429.0      198.0      4341.      10.0   70  1	&quot;ford galaxie 500&quot;
14.0   8   454.0      220.0      4354.       9.0   70  1	&quot;chevrolet impala&quot;
14.0   8   440.0      215.0      4312.       8.5   70  1	&quot;plymouth fury iii&quot;
14.0   8   455.0      225.0      4425.      10.0   70  1	&quot;pontiac catalina&quot;
15.0   8   390.0      190.0      3850.       8.5   70  1	&quot;amc ambassador dpl&quot;
15.0   8   383.0      170.0      3563.      10.0   70  1	&quot;dodge challenger se&quot;
14.0   8   340.0      160.0      3609.       8.0   70  1	&quot;plymouth &#39;cuda 340&quot;
15.0   8   400.0      150.0      3761.       9.5   70  1	&quot;chevrolet monte carlo&quot;
14.0   8   455.0      225.0      3086.      10.0   70  1	&quot;buick estate wagon (sw)&quot;
24.0   4   113.0      95.00      2372.      15.0   70  3	&quot;toyota corona mark ii&quot;
22.0   6   198.0      95.00      2833.      15.5   70  1	&quot;plymouth duster&quot;
18.0   6   199.0      97.00      2774.      15.5   70  1	&quot;amc hornet&quot;
21.0   6   200.0      85.00      2587.      16.0   70  1	&quot;ford maverick&quot;
27.0   4   97.00      88.00      2130.      14.5   70  3	&quot;datsun pl510&quot;
26.0   4   97.00      46.00      1835.      20.5   70  2	&quot;volkswagen 1131 deluxe sedan&quot;
25.0   4   110.0      87.00      2672.      17.5   70  2	&quot;peugeot 504&quot;
24.0   4   107.0      90.00      2430.      14.5   70  2	&quot;audi 100 ls&quot;
25.0   4   104.0      95.00      2375.      17.5   70  2	&quot;saab 99e&quot;
26.0   4   121.0      113.0      2234.      12.5   70  2	&quot;bmw 2002&quot;
21.0   6   199.0      90.00      2648.      15.0   70  1	&quot;amc gremlin&quot;
10.0   8   360.0      215.0      4615.      14.0   70  1	&quot;ford f250&quot;
10.0   8   307.0      200.0      4376.      15.0   70  1	&quot;chevy c20&quot;
11.0   8   318.0      210.0      4382.      13.5   70  1	&quot;dodge d200&quot;
9.0    8   304.0      193.0      4732.      18.5   70  1	&quot;hi 1200d&quot;
27.0   4   97.00      88.00      2130.      14.5   71  3	&quot;datsun pl510&quot;
28.0   4   140.0      90.00      2264.      15.5   71  1	&quot;chevrolet vega 2300&quot;
25.0   4   113.0      95.00      2228.      14.0   71  3	&quot;toyota corona&quot;
25.0   4   98.00      ?          2046.      19.0   71  1	&quot;ford pinto&quot;
19.0   6   232.0      100.0      2634.      13.0   71  1	&quot;amc gremlin&quot;
16.0   6   225.0      105.0      3439.      15.5   71  1	&quot;plymouth satellite custom&quot;
17.0   6   250.0      100.0      3329.      15.5   71  1	&quot;chevrolet chevelle malibu&quot;
19.0   6   250.0      88.00      3302.      15.5   71  1	&quot;ford torino 500&quot;
18.0   6   232.0      100.0      3288.      15.5   71  1	&quot;amc matador&quot;
14.0   8   350.0      165.0      4209.      12.0   71  1	&quot;chevrolet impala&quot;
14.0   8   400.0      175.0      4464.      11.5   71  1	&quot;pontiac catalina brougham&quot;
14.0   8   351.0      153.0      4154.      13.5   71  1	&quot;ford galaxie 500&quot;
14.0   8   318.0      150.0      4096.      13.0   71  1	&quot;plymouth fury iii&quot;
12.0   8   383.0      180.0      4955.      11.5   71  1	&quot;dodge monaco (sw)&quot;
13.0   8   400.0      170.0      4746.      12.0   71  1	&quot;ford country squire (sw)&quot;
13.0   8   400.0      175.0      5140.      12.0   71  1	&quot;pontiac safari (sw)&quot;
18.0   6   258.0      110.0      2962.      13.5   71  1	&quot;amc hornet sportabout (sw)&quot;
22.0   4   140.0      72.00      2408.      19.0   71  1	&quot;chevrolet vega (sw)&quot;
19.0   6   250.0      100.0      3282.      15.0   71  1	&quot;pontiac firebird&quot;
18.0   6   250.0      88.00      3139.      14.5   71  1	&quot;ford mustang&quot;
23.0   4   122.0      86.00      2220.      14.0   71  1	&quot;mercury capri 2000&quot;
28.0   4   116.0      90.00      2123.      14.0   71  2	&quot;opel 1900&quot;
30.0   4   79.00      70.00      2074.      19.5   71  2	&quot;peugeot 304&quot;
30.0   4   88.00      76.00      2065.      14.5   71  2	&quot;fiat 124b&quot;
31.0   4   71.00      65.00      1773.      19.0   71  3	&quot;toyota corolla 1200&quot;
35.0   4   72.00      69.00      1613.      18.0   71  3	&quot;datsun 1200&quot;
27.0   4   97.00      60.00      1834.      19.0   71  2	&quot;volkswagen model 111&quot;
26.0   4   91.00      70.00      1955.      20.5   71  1	&quot;plymouth cricket&quot;
24.0   4   113.0      95.00      2278.      15.5   72  3	&quot;toyota corona hardtop&quot;
25.0   4   97.50      80.00      2126.      17.0   72  1	&quot;dodge colt hardtop&quot;
23.0   4   97.00      54.00      2254.      23.5   72  2	&quot;volkswagen type 3&quot;
20.0   4   140.0      90.00      2408.      19.5   72  1	&quot;chevrolet vega&quot;
21.0   4   122.0      86.00      2226.      16.5   72  1	&quot;ford pinto runabout&quot;
13.0   8   350.0      165.0      4274.      12.0   72  1	&quot;chevrolet impala&quot;
14.0   8   400.0      175.0      4385.      12.0   72  1	&quot;pontiac catalina&quot;
15.0   8   318.0      150.0      4135.      13.5   72  1	&quot;plymouth fury iii&quot;
14.0   8   351.0      153.0      4129.      13.0   72  1	&quot;ford galaxie 500&quot;
17.0   8   304.0      150.0      3672.      11.5   72  1	&quot;amc ambassador sst&quot;
11.0   8   429.0      208.0      4633.      11.0   72  1	&quot;mercury marquis&quot;
13.0   8   350.0      155.0      4502.      13.5   72  1	&quot;buick lesabre custom&quot;
12.0   8   350.0      160.0      4456.      13.5   72  1	&quot;oldsmobile delta 88 royale&quot;
13.0   8   400.0      190.0      4422.      12.5   72  1	&quot;chrysler newport royal&quot;
19.0   3   70.00      97.00      2330.      13.5   72  3	&quot;mazda rx2 coupe&quot;
15.0   8   304.0      150.0      3892.      12.5   72  1	&quot;amc matador (sw)&quot;
13.0   8   307.0      130.0      4098.      14.0   72  1	&quot;chevrolet chevelle concours (sw)&quot;
13.0   8   302.0      140.0      4294.      16.0   72  1	&quot;ford gran torino (sw)&quot;
14.0   8   318.0      150.0      4077.      14.0   72  1	&quot;plymouth satellite custom (sw)&quot;
18.0   4   121.0      112.0      2933.      14.5   72  2	&quot;volvo 145e (sw)&quot;
22.0   4   121.0      76.00      2511.      18.0   72  2	&quot;volkswagen 411 (sw)&quot;
21.0   4   120.0      87.00      2979.      19.5   72  2	&quot;peugeot 504 (sw)&quot;
26.0   4   96.00      69.00      2189.      18.0   72  2	&quot;renault 12 (sw)&quot;
22.0   4   122.0      86.00      2395.      16.0   72  1	&quot;ford pinto (sw)&quot;
28.0   4   97.00      92.00      2288.      17.0   72  3	&quot;datsun 510 (sw)&quot;
23.0   4   120.0      97.00      2506.      14.5   72  3	&quot;toyouta corona mark ii (sw)&quot;
28.0   4   98.00      80.00      2164.      15.0   72  1	&quot;dodge colt (sw)&quot;
27.0   4   97.00      88.00      2100.      16.5   72  3	&quot;toyota corolla 1600 (sw)&quot;
13.0   8   350.0      175.0      4100.      13.0   73  1	&quot;buick century 350&quot;
14.0   8   304.0      150.0      3672.      11.5   73  1	&quot;amc matador&quot;
13.0   8   350.0      145.0      3988.      13.0   73  1	&quot;chevrolet malibu&quot;
14.0   8   302.0      137.0      4042.      14.5   73  1	&quot;ford gran torino&quot;
15.0   8   318.0      150.0      3777.      12.5   73  1	&quot;dodge coronet custom&quot;
12.0   8   429.0      198.0      4952.      11.5   73  1	&quot;mercury marquis brougham&quot;
13.0   8   400.0      150.0      4464.      12.0   73  1	&quot;chevrolet caprice classic&quot;
13.0   8   351.0      158.0      4363.      13.0   73  1	&quot;ford ltd&quot;
14.0   8   318.0      150.0      4237.      14.5   73  1	&quot;plymouth fury gran sedan&quot;
13.0   8   440.0      215.0      4735.      11.0   73  1	&quot;chrysler new yorker brougham&quot;
12.0   8   455.0      225.0      4951.      11.0   73  1	&quot;buick electra 225 custom&quot;
13.0   8   360.0      175.0      3821.      11.0   73  1	&quot;amc ambassador brougham&quot;
18.0   6   225.0      105.0      3121.      16.5   73  1	&quot;plymouth valiant&quot;
16.0   6   250.0      100.0      3278.      18.0   73  1	&quot;chevrolet nova custom&quot;
18.0   6   232.0      100.0      2945.      16.0   73  1	&quot;amc hornet&quot;
18.0   6   250.0      88.00      3021.      16.5   73  1	&quot;ford maverick&quot;
23.0   6   198.0      95.00      2904.      16.0   73  1	&quot;plymouth duster&quot;
26.0   4   97.00      46.00      1950.      21.0   73  2	&quot;volkswagen super beetle&quot;
11.0   8   400.0      150.0      4997.      14.0   73  1	&quot;chevrolet impala&quot;
12.0   8   400.0      167.0      4906.      12.5   73  1	&quot;ford country&quot;
13.0   8   360.0      170.0      4654.      13.0   73  1	&quot;plymouth custom suburb&quot;
12.0   8   350.0      180.0      4499.      12.5   73  1	&quot;oldsmobile vista cruiser&quot;
18.0   6   232.0      100.0      2789.      15.0   73  1	&quot;amc gremlin&quot;
20.0   4   97.00      88.00      2279.      19.0   73  3	&quot;toyota carina&quot;
21.0   4   140.0      72.00      2401.      19.5   73  1	&quot;chevrolet vega&quot;
22.0   4   108.0      94.00      2379.      16.5   73  3	&quot;datsun 610&quot;
18.0   3   70.00      90.00      2124.      13.5   73  3	&quot;maxda rx3&quot;
19.0   4   122.0      85.00      2310.      18.5   73  1	&quot;ford pinto&quot;
21.0   6   155.0      107.0      2472.      14.0   73  1	&quot;mercury capri v6&quot;
26.0   4   98.00      90.00      2265.      15.5   73  2	&quot;fiat 124 sport coupe&quot;
15.0   8   350.0      145.0      4082.      13.0   73  1	&quot;chevrolet monte carlo s&quot;
16.0   8   400.0      230.0      4278.      9.50   73  1	&quot;pontiac grand prix&quot;
29.0   4   68.00      49.00      1867.      19.5   73  2	&quot;fiat 128&quot;
24.0   4   116.0      75.00      2158.      15.5   73  2	&quot;opel manta&quot;
20.0   4   114.0      91.00      2582.      14.0   73  2	&quot;audi 100ls&quot;
19.0   4   121.0      112.0      2868.      15.5   73  2	&quot;volvo 144ea&quot;
15.0   8   318.0      150.0      3399.      11.0   73  1	&quot;dodge dart custom&quot;
24.0   4   121.0      110.0      2660.      14.0   73  2	&quot;saab 99le&quot;
20.0   6   156.0      122.0      2807.      13.5   73  3	&quot;toyota mark ii&quot;
11.0   8   350.0      180.0      3664.      11.0   73  1	&quot;oldsmobile omega&quot;
20.0   6   198.0      95.00      3102.      16.5   74  1	&quot;plymouth duster&quot;
21.0   6   200.0      ?          2875.      17.0   74  1	&quot;ford maverick&quot;
19.0   6   232.0      100.0      2901.      16.0   74  1	&quot;amc hornet&quot;
15.0   6   250.0      100.0      3336.      17.0   74  1	&quot;chevrolet nova&quot;
31.0   4   79.00      67.00      1950.      19.0   74  3	&quot;datsun b210&quot;
26.0   4   122.0      80.00      2451.      16.5   74  1	&quot;ford pinto&quot;
32.0   4   71.00      65.00      1836.      21.0   74  3	&quot;toyota corolla 1200&quot;
25.0   4   140.0      75.00      2542.      17.0   74  1	&quot;chevrolet vega&quot;
16.0   6   250.0      100.0      3781.      17.0   74  1	&quot;chevrolet chevelle malibu classic&quot;
16.0   6   258.0      110.0      3632.      18.0   74  1	&quot;amc matador&quot;
18.0   6   225.0      105.0      3613.      16.5   74  1	&quot;plymouth satellite sebring&quot;
16.0   8   302.0      140.0      4141.      14.0   74  1	&quot;ford gran torino&quot;
13.0   8   350.0      150.0      4699.      14.5   74  1	&quot;buick century luxus (sw)&quot;
14.0   8   318.0      150.0      4457.      13.5   74  1	&quot;dodge coronet custom (sw)&quot;
14.0   8   302.0      140.0      4638.      16.0   74  1	&quot;ford gran torino (sw)&quot;
14.0   8   304.0      150.0      4257.      15.5   74  1	&quot;amc matador (sw)&quot;
29.0   4   98.00      83.00      2219.      16.5   74  2	&quot;audi fox&quot;
26.0   4   79.00      67.00      1963.      15.5   74  2	&quot;volkswagen dasher&quot;
26.0   4   97.00      78.00      2300.      14.5   74  2	&quot;opel manta&quot;
31.0   4   76.00      52.00      1649.      16.5   74  3	&quot;toyota corona&quot;
32.0   4   83.00      61.00      2003.      19.0   74  3	&quot;datsun 710&quot;
28.0   4   90.00      75.00      2125.      14.5   74  1	&quot;dodge colt&quot;
24.0   4   90.00      75.00      2108.      15.5   74  2	&quot;fiat 128&quot;
26.0   4   116.0      75.00      2246.      14.0   74  2	&quot;fiat 124 tc&quot;
24.0   4   120.0      97.00      2489.      15.0   74  3	&quot;honda civic&quot;
26.0   4   108.0      93.00      2391.      15.5   74  3	&quot;subaru&quot;
31.0   4   79.00      67.00      2000.      16.0   74  2	&quot;fiat x1.9&quot;
19.0   6   225.0      95.00      3264.      16.0   75  1	&quot;plymouth valiant custom&quot;
18.0   6   250.0      105.0      3459.      16.0   75  1	&quot;chevrolet nova&quot;
15.0   6   250.0      72.00      3432.      21.0   75  1	&quot;mercury monarch&quot;
15.0   6   250.0      72.00      3158.      19.5   75  1	&quot;ford maverick&quot;
16.0   8   400.0      170.0      4668.      11.5   75  1	&quot;pontiac catalina&quot;
15.0   8   350.0      145.0      4440.      14.0   75  1	&quot;chevrolet bel air&quot;
16.0   8   318.0      150.0      4498.      14.5   75  1	&quot;plymouth grand fury&quot;
14.0   8   351.0      148.0      4657.      13.5   75  1	&quot;ford ltd&quot;
17.0   6   231.0      110.0      3907.      21.0   75  1	&quot;buick century&quot;
16.0   6   250.0      105.0      3897.      18.5   75  1	&quot;chevroelt chevelle malibu&quot;
15.0   6   258.0      110.0      3730.      19.0   75  1	&quot;amc matador&quot;
18.0   6   225.0      95.00      3785.      19.0   75  1	&quot;plymouth fury&quot;
21.0   6   231.0      110.0      3039.      15.0   75  1	&quot;buick skyhawk&quot;
20.0   8   262.0      110.0      3221.      13.5   75  1	&quot;chevrolet monza 2+2&quot;
13.0   8   302.0      129.0      3169.      12.0   75  1	&quot;ford mustang ii&quot;
29.0   4   97.00      75.00      2171.      16.0   75  3	&quot;toyota corolla&quot;
23.0   4   140.0      83.00      2639.      17.0   75  1	&quot;ford pinto&quot;
20.0   6   232.0      100.0      2914.      16.0   75  1	&quot;amc gremlin&quot;
23.0   4   140.0      78.00      2592.      18.5   75  1	&quot;pontiac astro&quot;
24.0   4   134.0      96.00      2702.      13.5   75  3	&quot;toyota corona&quot;
25.0   4   90.00      71.00      2223.      16.5   75  2	&quot;volkswagen dasher&quot;
24.0   4   119.0      97.00      2545.      17.0   75  3	&quot;datsun 710&quot;
18.0   6   171.0      97.00      2984.      14.5   75  1	&quot;ford pinto&quot;
29.0   4   90.00      70.00      1937.      14.0   75  2	&quot;volkswagen rabbit&quot;
19.0   6   232.0      90.00      3211.      17.0   75  1	&quot;amc pacer&quot;
23.0   4   115.0      95.00      2694.      15.0   75  2	&quot;audi 100ls&quot;
23.0   4   120.0      88.00      2957.      17.0   75  2	&quot;peugeot 504&quot;
22.0   4   121.0      98.00      2945.      14.5   75  2	&quot;volvo 244dl&quot;
25.0   4   121.0      115.0      2671.      13.5   75  2	&quot;saab 99le&quot;
33.0   4   91.00      53.00      1795.      17.5   75  3	&quot;honda civic cvcc&quot;
28.0   4   107.0      86.00      2464.      15.5   76  2	&quot;fiat 131&quot;
25.0   4   116.0      81.00      2220.      16.9   76  2	&quot;opel 1900&quot;
25.0   4   140.0      92.00      2572.      14.9   76  1	&quot;capri ii&quot;
26.0   4   98.00      79.00      2255.      17.7   76  1	&quot;dodge colt&quot;
27.0   4   101.0      83.00      2202.      15.3   76  2	&quot;renault 12tl&quot;
17.5   8   305.0      140.0      4215.      13.0   76  1	&quot;chevrolet chevelle malibu classic&quot;
16.0   8   318.0      150.0      4190.      13.0   76  1	&quot;dodge coronet brougham&quot;
15.5   8   304.0      120.0      3962.      13.9   76  1	&quot;amc matador&quot;
14.5   8   351.0      152.0      4215.      12.8   76  1	&quot;ford gran torino&quot;
22.0   6   225.0      100.0      3233.      15.4   76  1	&quot;plymouth valiant&quot;
22.0   6   250.0      105.0      3353.      14.5   76  1	&quot;chevrolet nova&quot;
24.0   6   200.0      81.00      3012.      17.6   76  1	&quot;ford maverick&quot;
22.5   6   232.0      90.00      3085.      17.6   76  1	&quot;amc hornet&quot;
29.0   4   85.00      52.00      2035.      22.2   76  1	&quot;chevrolet chevette&quot;
24.5   4   98.00      60.00      2164.      22.1   76  1	&quot;chevrolet woody&quot;
29.0   4   90.00      70.00      1937.      14.2   76  2	&quot;vw rabbit&quot;
33.0   4   91.00      53.00      1795.      17.4   76  3	&quot;honda civic&quot;
20.0   6   225.0      100.0      3651.      17.7   76  1	&quot;dodge aspen se&quot;
18.0   6   250.0      78.00      3574.      21.0   76  1	&quot;ford granada ghia&quot;
18.5   6   250.0      110.0      3645.      16.2   76  1	&quot;pontiac ventura sj&quot;
17.5   6   258.0      95.00      3193.      17.8   76  1	&quot;amc pacer d/l&quot;
29.5   4   97.00      71.00      1825.      12.2   76  2	&quot;volkswagen rabbit&quot;
32.0   4   85.00      70.00      1990.      17.0   76  3	&quot;datsun b-210&quot;
28.0   4   97.00      75.00      2155.      16.4   76  3	&quot;toyota corolla&quot;
26.5   4   140.0      72.00      2565.      13.6   76  1	&quot;ford pinto&quot;
20.0   4   130.0      102.0      3150.      15.7   76  2	&quot;volvo 245&quot;
13.0   8   318.0      150.0      3940.      13.2   76  1	&quot;plymouth volare premier v8&quot;
19.0   4   120.0      88.00      3270.      21.9   76  2	&quot;peugeot 504&quot;
19.0   6   156.0      108.0      2930.      15.5   76  3	&quot;toyota mark ii&quot;
16.5   6   168.0      120.0      3820.      16.7   76  2	&quot;mercedes-benz 280s&quot;
16.5   8   350.0      180.0      4380.      12.1   76  1	&quot;cadillac seville&quot;
13.0   8   350.0      145.0      4055.      12.0   76  1	&quot;chevy c10&quot;
13.0   8   302.0      130.0      3870.      15.0   76  1	&quot;ford f108&quot;
13.0   8   318.0      150.0      3755.      14.0   76  1	&quot;dodge d100&quot;
31.5   4   98.00      68.00      2045.      18.5   77  3	&quot;honda accord cvcc&quot;
30.0   4   111.0      80.00      2155.      14.8   77  1	&quot;buick opel isuzu deluxe&quot;
36.0   4   79.00      58.00      1825.      18.6   77  2	&quot;renault 5 gtl&quot;
25.5   4   122.0      96.00      2300.      15.5   77  1	&quot;plymouth arrow gs&quot;
33.5   4   85.00      70.00      1945.      16.8   77  3	&quot;datsun f-10 hatchback&quot;
17.5   8   305.0      145.0      3880.      12.5   77  1	&quot;chevrolet caprice classic&quot;
17.0   8   260.0      110.0      4060.      19.0   77  1	&quot;oldsmobile cutlass supreme&quot;
15.5   8   318.0      145.0      4140.      13.7   77  1	&quot;dodge monaco brougham&quot;
15.0   8   302.0      130.0      4295.      14.9   77  1	&quot;mercury cougar brougham&quot;
17.5   6   250.0      110.0      3520.      16.4   77  1	&quot;chevrolet concours&quot;
20.5   6   231.0      105.0      3425.      16.9   77  1	&quot;buick skylark&quot;
19.0   6   225.0      100.0      3630.      17.7   77  1	&quot;plymouth volare custom&quot;
18.5   6   250.0      98.00      3525.      19.0   77  1	&quot;ford granada&quot;
16.0   8   400.0      180.0      4220.      11.1   77  1	&quot;pontiac grand prix lj&quot;
15.5   8   350.0      170.0      4165.      11.4   77  1	&quot;chevrolet monte carlo landau&quot;
15.5   8   400.0      190.0      4325.      12.2   77  1	&quot;chrysler cordoba&quot;
16.0   8   351.0      149.0      4335.      14.5   77  1	&quot;ford thunderbird&quot;
29.0   4   97.00      78.00      1940.      14.5   77  2	&quot;volkswagen rabbit custom&quot;
24.5   4   151.0      88.00      2740.      16.0   77  1	&quot;pontiac sunbird coupe&quot;
26.0   4   97.00      75.00      2265.      18.2   77  3	&quot;toyota corolla liftback&quot;
25.5   4   140.0      89.00      2755.      15.8   77  1	&quot;ford mustang ii 2+2&quot;
30.5   4   98.00      63.00      2051.      17.0   77  1	&quot;chevrolet chevette&quot;
33.5   4   98.00      83.00      2075.      15.9   77  1	&quot;dodge colt m/m&quot;
30.0   4   97.00      67.00      1985.      16.4   77  3	&quot;subaru dl&quot;
30.5   4   97.00      78.00      2190.      14.1   77  2	&quot;volkswagen dasher&quot;
22.0   6   146.0      97.00      2815.      14.5   77  3	&quot;datsun 810&quot;
21.5   4   121.0      110.0      2600.      12.8   77  2	&quot;bmw 320i&quot;
21.5   3   80.00      110.0      2720.      13.5   77  3	&quot;mazda rx-4&quot;
43.1   4   90.00      48.00      1985.      21.5   78  2	&quot;volkswagen rabbit custom diesel&quot;
36.1   4   98.00      66.00      1800.      14.4   78  1	&quot;ford fiesta&quot;
32.8   4   78.00      52.00      1985.      19.4   78  3	&quot;mazda glc deluxe&quot;
39.4   4   85.00      70.00      2070.      18.6   78  3	&quot;datsun b210 gx&quot;
36.1   4   91.00      60.00      1800.      16.4   78  3	&quot;honda civic cvcc&quot;
19.9   8   260.0      110.0      3365.      15.5   78  1	&quot;oldsmobile cutlass salon brougham&quot;
19.4   8   318.0      140.0      3735.      13.2   78  1	&quot;dodge diplomat&quot;
20.2   8   302.0      139.0      3570.      12.8   78  1	&quot;mercury monarch ghia&quot;
19.2   6   231.0      105.0      3535.      19.2   78  1	&quot;pontiac phoenix lj&quot;
20.5   6   200.0      95.00      3155.      18.2   78  1	&quot;chevrolet malibu&quot;
20.2   6   200.0      85.00      2965.      15.8   78  1	&quot;ford fairmont (auto)&quot;
25.1   4   140.0      88.00      2720.      15.4   78  1	&quot;ford fairmont (man)&quot;
20.5   6   225.0      100.0      3430.      17.2   78  1	&quot;plymouth volare&quot;
19.4   6   232.0      90.00      3210.      17.2   78  1	&quot;amc concord&quot;
20.6   6   231.0      105.0      3380.      15.8   78  1	&quot;buick century special&quot;
20.8   6   200.0      85.00      3070.      16.7   78  1	&quot;mercury zephyr&quot;
18.6   6   225.0      110.0      3620.      18.7   78  1	&quot;dodge aspen&quot;
18.1   6   258.0      120.0      3410.      15.1   78  1	&quot;amc concord d/l&quot;
19.2   8   305.0      145.0      3425.      13.2   78  1	&quot;chevrolet monte carlo landau&quot;
17.7   6   231.0      165.0      3445.      13.4   78  1	&quot;buick regal sport coupe (turbo)&quot;
18.1   8   302.0      139.0      3205.      11.2   78  1	&quot;ford futura&quot;
17.5   8   318.0      140.0      4080.      13.7   78  1	&quot;dodge magnum xe&quot;
30.0   4   98.00      68.00      2155.      16.5   78  1	&quot;chevrolet chevette&quot;
27.5   4   134.0      95.00      2560.      14.2   78  3	&quot;toyota corona&quot;
27.2   4   119.0      97.00      2300.      14.7   78  3	&quot;datsun 510&quot;
30.9   4   105.0      75.00      2230.      14.5   78  1	&quot;dodge omni&quot;
21.1   4   134.0      95.00      2515.      14.8   78  3	&quot;toyota celica gt liftback&quot;
23.2   4   156.0      105.0      2745.      16.7   78  1	&quot;plymouth sapporo&quot;
23.8   4   151.0      85.00      2855.      17.6   78  1	&quot;oldsmobile starfire sx&quot;
23.9   4   119.0      97.00      2405.      14.9   78  3	&quot;datsun 200-sx&quot;
20.3   5   131.0      103.0      2830.      15.9   78  2	&quot;audi 5000&quot;
17.0   6   163.0      125.0      3140.      13.6   78  2	&quot;volvo 264gl&quot;
21.6   4   121.0      115.0      2795.      15.7   78  2	&quot;saab 99gle&quot;
16.2   6   163.0      133.0      3410.      15.8   78  2	&quot;peugeot 604sl&quot;
31.5   4   89.00      71.00      1990.      14.9   78  2	&quot;volkswagen scirocco&quot;
29.5   4   98.00      68.00      2135.      16.6   78  3	&quot;honda accord lx&quot;
21.5   6   231.0      115.0      3245.      15.4   79  1	&quot;pontiac lemans v6&quot;
19.8   6   200.0      85.00      2990.      18.2   79  1	&quot;mercury zephyr 6&quot;
22.3   4   140.0      88.00      2890.      17.3   79  1	&quot;ford fairmont 4&quot;
20.2   6   232.0      90.00      3265.      18.2   79  1	&quot;amc concord dl 6&quot;
20.6   6   225.0      110.0      3360.      16.6   79  1	&quot;dodge aspen 6&quot;
17.0   8   305.0      130.0      3840.      15.4   79  1	&quot;chevrolet caprice classic&quot;
17.6   8   302.0      129.0      3725.      13.4   79  1	&quot;ford ltd landau&quot;
16.5   8   351.0      138.0      3955.      13.2   79  1	&quot;mercury grand marquis&quot;
18.2   8   318.0      135.0      3830.      15.2   79  1	&quot;dodge st. regis&quot;
16.9   8   350.0      155.0      4360.      14.9   79  1	&quot;buick estate wagon (sw)&quot;
15.5   8   351.0      142.0      4054.      14.3   79  1	&quot;ford country squire (sw)&quot;
19.2   8   267.0      125.0      3605.      15.0   79  1	&quot;chevrolet malibu classic (sw)&quot;
18.5   8   360.0      150.0      3940.      13.0   79  1	&quot;chrysler lebaron town @ country (sw)&quot;
31.9   4   89.00      71.00      1925.      14.0   79  2	&quot;vw rabbit custom&quot;
34.1   4   86.00      65.00      1975.      15.2   79  3	&quot;maxda glc deluxe&quot;
35.7   4   98.00      80.00      1915.      14.4   79  1	&quot;dodge colt hatchback custom&quot;
27.4   4   121.0      80.00      2670.      15.0   79  1	&quot;amc spirit dl&quot;
25.4   5   183.0      77.00      3530.      20.1   79  2	&quot;mercedes benz 300d&quot;
23.0   8   350.0      125.0      3900.      17.4   79  1	&quot;cadillac eldorado&quot;
27.2   4   141.0      71.00      3190.      24.8   79  2	&quot;peugeot 504&quot;
23.9   8   260.0      90.00      3420.      22.2   79  1	&quot;oldsmobile cutlass salon brougham&quot;
34.2   4   105.0      70.00      2200.      13.2   79  1	&quot;plymouth horizon&quot;
34.5   4   105.0      70.00      2150.      14.9   79  1	&quot;plymouth horizon tc3&quot;
31.8   4   85.00      65.00      2020.      19.2   79  3	&quot;datsun 210&quot;
37.3   4   91.00      69.00      2130.      14.7   79  2	&quot;fiat strada custom&quot;
28.4   4   151.0      90.00      2670.      16.0   79  1	&quot;buick skylark limited&quot;
28.8   6   173.0      115.0      2595.      11.3   79  1	&quot;chevrolet citation&quot;
26.8   6   173.0      115.0      2700.      12.9   79  1	&quot;oldsmobile omega brougham&quot;
33.5   4   151.0      90.00      2556.      13.2   79  1	&quot;pontiac phoenix&quot;
41.5   4   98.00      76.00      2144.      14.7   80  2	&quot;vw rabbit&quot;
38.1   4   89.00      60.00      1968.      18.8   80  3	&quot;toyota corolla tercel&quot;
32.1   4   98.00      70.00      2120.      15.5   80  1	&quot;chevrolet chevette&quot;
37.2   4   86.00      65.00      2019.      16.4   80  3	&quot;datsun 310&quot;
28.0   4   151.0      90.00      2678.      16.5   80  1	&quot;chevrolet citation&quot;
26.4   4   140.0      88.00      2870.      18.1   80  1	&quot;ford fairmont&quot;
24.3   4   151.0      90.00      3003.      20.1   80  1	&quot;amc concord&quot;
19.1   6   225.0      90.00      3381.      18.7   80  1	&quot;dodge aspen&quot;
34.3   4   97.00      78.00      2188.      15.8   80  2	&quot;audi 4000&quot;
29.8   4   134.0      90.00      2711.      15.5   80  3	&quot;toyota corona liftback&quot;
31.3   4   120.0      75.00      2542.      17.5   80  3	&quot;mazda 626&quot;
37.0   4   119.0      92.00      2434.      15.0   80  3	&quot;datsun 510 hatchback&quot;
32.2   4   108.0      75.00      2265.      15.2   80  3	&quot;toyota corolla&quot;
46.6   4   86.00      65.00      2110.      17.9   80  3	&quot;mazda glc&quot;
27.9   4   156.0      105.0      2800.      14.4   80  1	&quot;dodge colt&quot;
40.8   4   85.00      65.00      2110.      19.2   80  3	&quot;datsun 210&quot;
44.3   4   90.00      48.00      2085.      21.7   80  2	&quot;vw rabbit c (diesel)&quot;
43.4   4   90.00      48.00      2335.      23.7   80  2	&quot;vw dasher (diesel)&quot;
36.4   5   121.0      67.00      2950.      19.9   80  2	&quot;audi 5000s (diesel)&quot;
30.0   4   146.0      67.00      3250.      21.8   80  2	&quot;mercedes-benz 240d&quot;
44.6   4   91.00      67.00      1850.      13.8   80  3	&quot;honda civic 1500 gl&quot;
40.9   4   85.00      ?          1835.      17.3   80  2	&quot;renault lecar deluxe&quot;
33.8   4   97.00      67.00      2145.      18.0   80  3	&quot;subaru dl&quot;
29.8   4   89.00      62.00      1845.      15.3   80  2	&quot;vokswagen rabbit&quot;
32.7   6   168.0      132.0      2910.      11.4   80  3	&quot;datsun 280-zx&quot;
23.7   3   70.00      100.0      2420.      12.5   80  3	&quot;mazda rx-7 gs&quot;
35.0   4   122.0      88.00      2500.      15.1   80  2	&quot;triumph tr7 coupe&quot;
23.6   4   140.0      ?          2905.      14.3   80  1	&quot;ford mustang cobra&quot;
32.4   4   107.0      72.00      2290.      17.0   80  3	&quot;honda accord&quot;
27.2   4   135.0      84.00      2490.      15.7   81  1	&quot;plymouth reliant&quot;
26.6   4   151.0      84.00      2635.      16.4   81  1	&quot;buick skylark&quot;
25.8   4   156.0      92.00      2620.      14.4   81  1	&quot;dodge aries wagon (sw)&quot;
23.5   6   173.0      110.0      2725.      12.6   81  1	&quot;chevrolet citation&quot;
30.0   4   135.0      84.00      2385.      12.9   81  1	&quot;plymouth reliant&quot;
39.1   4   79.00      58.00      1755.      16.9   81  3	&quot;toyota starlet&quot;
39.0   4   86.00      64.00      1875.      16.4   81  1	&quot;plymouth champ&quot;
35.1   4   81.00      60.00      1760.      16.1   81  3	&quot;honda civic 1300&quot;
32.3   4   97.00      67.00      2065.      17.8   81  3	&quot;subaru&quot;
37.0   4   85.00      65.00      1975.      19.4   81  3	&quot;datsun 210 mpg&quot;
37.7   4   89.00      62.00      2050.      17.3   81  3	&quot;toyota tercel&quot;
34.1   4   91.00      68.00      1985.      16.0   81  3	&quot;mazda glc 4&quot;
34.7   4   105.0      63.00      2215.      14.9   81  1	&quot;plymouth horizon 4&quot;
34.4   4   98.00      65.00      2045.      16.2   81  1	&quot;ford escort 4w&quot;
29.9   4   98.00      65.00      2380.      20.7   81  1	&quot;ford escort 2h&quot;
33.0   4   105.0      74.00      2190.      14.2   81  2	&quot;volkswagen jetta&quot;
34.5   4   100.0      ?          2320.      15.8   81  2	&quot;renault 18i&quot;
33.7   4   107.0      75.00      2210.      14.4   81  3	&quot;honda prelude&quot;
32.4   4   108.0      75.00      2350.      16.8   81  3	&quot;toyota corolla&quot;
32.9   4   119.0      100.0      2615.      14.8   81  3	&quot;datsun 200sx&quot;
31.6   4   120.0      74.00      2635.      18.3   81  3	&quot;mazda 626&quot;
28.1   4   141.0      80.00      3230.      20.4   81  2	&quot;peugeot 505s turbo diesel&quot;
30.7   6   145.0      76.00      3160.      19.6   81  2	&quot;volvo diesel&quot;
25.4   6   168.0      116.0      2900.      12.6   81  3	&quot;toyota cressida&quot;
24.2   6   146.0      120.0      2930.      13.8   81  3	&quot;datsun 810 maxima&quot;
22.4   6   231.0      110.0      3415.      15.8   81  1	&quot;buick century&quot;
26.6   8   350.0      105.0      3725.      19.0   81  1	&quot;oldsmobile cutlass ls&quot;
20.2   6   200.0      88.00      3060.      17.1   81  1	&quot;ford granada gl&quot;
17.6   6   225.0      85.00      3465.      16.6   81  1	&quot;chrysler lebaron salon&quot;
28.0   4   112.0      88.00      2605.      19.6   82  1	&quot;chevrolet cavalier&quot;
27.0   4   112.0      88.00      2640.      18.6   82  1	&quot;chevrolet cavalier wagon&quot;
34.0   4   112.0      88.00      2395.      18.0   82  1	&quot;chevrolet cavalier 2-door&quot;
31.0   4   112.0      85.00      2575.      16.2   82  1	&quot;pontiac j2000 se hatchback&quot;
29.0   4   135.0      84.00      2525.      16.0   82  1	&quot;dodge aries se&quot;
27.0   4   151.0      90.00      2735.      18.0   82  1	&quot;pontiac phoenix&quot;
24.0   4   140.0      92.00      2865.      16.4   82  1	&quot;ford fairmont futura&quot;
23.0   4   151.0      ?          3035.      20.5   82  1	&quot;amc concord dl&quot;
36.0   4   105.0      74.00      1980.      15.3   82  2	&quot;volkswagen rabbit l&quot;
37.0   4   91.00      68.00      2025.      18.2   82  3	&quot;mazda glc custom l&quot;
31.0   4   91.00      68.00      1970.      17.6   82  3	&quot;mazda glc custom&quot;
38.0   4   105.0      63.00      2125.      14.7   82  1	&quot;plymouth horizon miser&quot;
36.0   4   98.00      70.00      2125.      17.3   82  1	&quot;mercury lynx l&quot;
36.0   4   120.0      88.00      2160.      14.5   82  3	&quot;nissan stanza xe&quot;
36.0   4   107.0      75.00      2205.      14.5   82  3	&quot;honda accord&quot;
34.0   4   108.0      70.00      2245       16.9   82  3	&quot;toyota corolla&quot;
38.0   4   91.00      67.00      1965.      15.0   82  3	&quot;honda civic&quot;
32.0   4   91.00      67.00      1965.      15.7   82  3	&quot;honda civic (auto)&quot;
38.0   4   91.00      67.00      1995.      16.2   82  3	&quot;datsun 310 gx&quot;
25.0   6   181.0      110.0      2945.      16.4   82  1	&quot;buick century limited&quot;
38.0   6   262.0      85.00      3015.      17.0   82  1	&quot;oldsmobile cutlass ciera (diesel)&quot;
26.0   4   156.0      92.00      2585.      14.5   82  1	&quot;chrysler lebaron medallion&quot;
22.0   6   232.0      112.0      2835       14.7   82  1	&quot;ford granada l&quot;
32.0   4   144.0      96.00      2665.      13.9   82  3	&quot;toyota celica gt&quot;
36.0   4   135.0      84.00      2370.      13.0   82  1	&quot;dodge charger 2.2&quot;
27.0   4   151.0      90.00      2950.      17.3   82  1	&quot;chevrolet camaro&quot;
27.0   4   140.0      86.00      2790.      15.6   82  1	&quot;ford mustang gl&quot;
44.0   4   97.00      52.00      2130.      24.6   82  2	&quot;vw pickup&quot;
32.0   4   135.0      84.00      2295.      11.6   82  1	&quot;dodge rampage&quot;
28.0   4   120.0      79.00      2625.      18.6   82  1	&quot;ford ranger&quot;
31.0   4   119.0      82.00      2720.      19.4   82  1	&quot;chevy s-10&quot;
</pre></div>
</div>
</div>
</div>
<p>We can see that the data seem to be regularly ordered columns of data, each corresponding to the attributes described in <code class="docutils literal notranslate"><span class="pre">auto-mpg.names</span></code>.</p>
<p>So how can we extract these columns separately?  One way is to manually use string operations to process each line.  The loop below shows how one might go about this.  I’ve left in the <code class="docutils literal notranslate"><span class="pre">print</span></code> and <code class="docutils literal notranslate"><span class="pre">break</span></code> statements I used to debug while doing this process.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">autoData</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./Resources/&quot;</span> <span class="o">+</span> <span class="n">mpgData</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">tmpData</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">tmpData</span><span class="p">:</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1">#         print(row)  ## Once I confirmed that the above function worked</span>
<span class="c1">#         break       ## to remove the &quot;\t&quot; and &quot;\n&quot; I moved on.</span>
        <span class="n">newRow</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span> <span class="c1">## We now have two elements in the row</span>
                       <span class="c1">## And we want to get rid of the spaces.</span>
            <span class="n">newRow</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span>
<span class="c1">#         print(newRow) ## Looking at the output, we see that we split</span>
<span class="c1">#         break         ## the string containing the name of the car</span>
<span class="c1">#                       ## so let&#39;s try something else.</span>
    
        <span class="c1">## We know that we want to keep the car name intact,</span>
        <span class="c1">## so only split the first string.</span>
        <span class="n">newRow</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
<span class="c1">#         print(newRow) ## Checking the work...</span>
<span class="c1">#         break</span>
        
        <span class="c1">## Let&#39;s get rid of the empty elements and convert the numbers</span>
        <span class="n">row</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">newRow</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">el</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">el</span> <span class="o">!=</span> <span class="s2">&quot;?&quot;</span><span class="p">:</span> <span class="c1">## It turns out this data set has missing</span>
                              <span class="c1">## values coded as &quot;?&quot;... That&#39;s annoying!</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">el</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>  <span class="c1">## The `np.nan` stands for &quot;Not</span>
                                        <span class="c1">## a number&quot; and is a float that</span>
                                        <span class="c1">## stands for missing values.</span>
        <span class="n">row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newRow</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="c1">#         print(row) ## Checking the work...</span>
<span class="c1">#         break</span>
        
        <span class="n">autoData</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">autoData</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[18.0, 8.0, 307.0, 130.0, 3504.0, 12.0, 70.0, 1.0, &#39;&quot;chevrolet chevelle malibu&quot;&#39;]
</pre></div>
</div>
</div>
</div>
<p>As an alternative, we might also want to try and use loader functions like <code class="docutils literal notranslate"><span class="pre">np.loadtxt</span></code> or <code class="docutils literal notranslate"><span class="pre">pandas.read_csv</span></code>.  Unfortunately, this data was stored in a manner that will stymie the <code class="docutils literal notranslate"><span class="pre">np.loadtxt</span></code> function, however the more sophisticated function from <code class="docutils literal notranslate"><span class="pre">pandas</span></code> can get the job done with a bit of tweaking.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">colNames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mpg&#39;</span><span class="p">,</span> <span class="s1">&#39;cylinders&#39;</span><span class="p">,</span> <span class="s1">&#39;displacement&#39;</span><span class="p">,</span> <span class="s1">&#39;horsepower&#39;</span><span class="p">,</span>
            <span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="s1">&#39;acceleration&#39;</span><span class="p">,</span> <span class="s1">&#39;model_year&#39;</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">,</span> <span class="s1">&#39;car_name&#39;</span><span class="p">]</span>

<span class="n">autoDF</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;./Resources/&quot;</span> <span class="o">+</span> <span class="n">mpgData</span><span class="p">,</span>
                     <span class="n">delim_whitespace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                     <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;?&quot;</span><span class="p">],</span>
                     <span class="n">names</span><span class="o">=</span><span class="n">colNames</span><span class="p">)</span>
<span class="n">autoDF</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mpg</th>
      <th>cylinders</th>
      <th>displacement</th>
      <th>horsepower</th>
      <th>weight</th>
      <th>acceleration</th>
      <th>model_year</th>
      <th>origin</th>
      <th>car_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>18.0</td>
      <td>8</td>
      <td>307.0</td>
      <td>130.0</td>
      <td>3504.0</td>
      <td>12.0</td>
      <td>70</td>
      <td>1</td>
      <td>chevrolet chevelle malibu</td>
    </tr>
    <tr>
      <th>1</th>
      <td>15.0</td>
      <td>8</td>
      <td>350.0</td>
      <td>165.0</td>
      <td>3693.0</td>
      <td>11.5</td>
      <td>70</td>
      <td>1</td>
      <td>buick skylark 320</td>
    </tr>
    <tr>
      <th>2</th>
      <td>18.0</td>
      <td>8</td>
      <td>318.0</td>
      <td>150.0</td>
      <td>3436.0</td>
      <td>11.0</td>
      <td>70</td>
      <td>1</td>
      <td>plymouth satellite</td>
    </tr>
    <tr>
      <th>3</th>
      <td>16.0</td>
      <td>8</td>
      <td>304.0</td>
      <td>150.0</td>
      <td>3433.0</td>
      <td>12.0</td>
      <td>70</td>
      <td>1</td>
      <td>amc rebel sst</td>
    </tr>
    <tr>
      <th>4</th>
      <td>17.0</td>
      <td>8</td>
      <td>302.0</td>
      <td>140.0</td>
      <td>3449.0</td>
      <td>10.5</td>
      <td>70</td>
      <td>1</td>
      <td>ford torino</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Of course all of this was a bit of overkill as we really were only asked to consider the 1st, 4th, and 7th observations. We now know that these are <code class="docutils literal notranslate"><span class="pre">mpg</span></code>, <code class="docutils literal notranslate"><span class="pre">horsepower</span></code> and <code class="docutils literal notranslate"><span class="pre">model_year</span></code>. We can extract these from either our manually loaded data (which is a list of lists) or from the <code class="docutils literal notranslate"><span class="pre">pandas</span></code> DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">autoData</span><span class="p">):</span>
    <span class="n">newRow</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="mi">6</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">newRow</span><span class="p">:</span> <span class="c1">## Only add in complete data.</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newRow</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">mpgData</span><span class="si">}</span><span class="s2">&#39; has been loaded and columns extracted.  Shape =&quot;</span><span class="p">,</span>
      <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1">## Alternately, we can extract from the pandas DataFrame</span>
<span class="c1">## We use the `dropna` function to drop the missing data and the `values`</span>
<span class="c1">## attribute to return the output as an array.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">autoDF</span><span class="p">[[</span><span class="n">colNames</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">colNames</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">colNames</span><span class="p">[</span><span class="mi">6</span><span class="p">]]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">mpgData</span><span class="si">}</span><span class="s2">&#39; has been loaded and columns extracted.  Shape =&quot;</span><span class="p">,</span>
      <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After `values` the type of the data is </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;auto-mpg.data&#39; has been loaded and columns extracted.  Shape = (392, 3)
&#39;auto-mpg.data&#39; has been loaded and columns extracted.  Shape = (392, 3)
After `values` the type of the data is &lt;class &#39;numpy.ndarray&#39;&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="part-2">
<h2>Part 2.<a class="headerlink" href="#part-2" title="Permalink to this headline">#</a></h2>
<p>Report the number of samples in your data set, save it as <span class="math notranslate nohighlight">\(N\)</span>, and calculate the mean, median, standard deviation, and IQR (inter-quartile range) of each of the measurements in the data set.</p>
<hr class="docutils" />
<p>You should be somewhat comfortable with these processes at this point, so instead I am going to illustrate what this might look like if we kept using the DataFrame structure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataDF</span> <span class="o">=</span> <span class="n">autoDF</span><span class="p">[[</span><span class="n">colNames</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">colNames</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">colNames</span><span class="p">[</span><span class="mi">6</span><span class="p">]]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="n">dataDF</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mpg</th>
      <th>horsepower</th>
      <th>model_year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>392.000000</td>
      <td>392.000000</td>
      <td>392.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>23.445918</td>
      <td>104.469388</td>
      <td>75.979592</td>
    </tr>
    <tr>
      <th>std</th>
      <td>7.805007</td>
      <td>38.491160</td>
      <td>3.683737</td>
    </tr>
    <tr>
      <th>min</th>
      <td>9.000000</td>
      <td>46.000000</td>
      <td>70.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>17.000000</td>
      <td>75.000000</td>
      <td>73.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>22.750000</td>
      <td>93.500000</td>
      <td>76.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>29.000000</td>
      <td>126.000000</td>
      <td>79.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>46.600000</td>
      <td>230.000000</td>
      <td>82.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="part-3">
<h2>Part 3.<a class="headerlink" href="#part-3" title="Permalink to this headline">#</a></h2>
<p>Use appropriate plots to show how the different quantities depend on each other.  If you loaded the data as a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>, try using the <code class="docutils literal notranslate"><span class="pre">sns.pairplot</span></code> command.  Does it seem that the variables depend on each other <em>linearly</em>?</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="s2">&quot;col&quot;</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">mpg</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">horsepower</span><span class="p">,</span> <span class="n">dataDF</span><span class="o">.</span><span class="n">mpg</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">model_year</span><span class="p">,</span> <span class="n">dataDF</span><span class="o">.</span><span class="n">mpg</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>


<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">horsepower</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">mpg</span><span class="p">,</span> <span class="n">dataDF</span><span class="o">.</span><span class="n">horsepower</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">model_year</span><span class="p">,</span> <span class="n">dataDF</span><span class="o">.</span><span class="n">horsepower</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>


<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">model_year</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">mpg</span><span class="p">,</span> <span class="n">dataDF</span><span class="o">.</span><span class="n">model_year</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">dataDF</span><span class="o">.</span><span class="n">horsepower</span><span class="p">,</span> <span class="n">dataDF</span><span class="o">.</span><span class="n">model_year</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;MPG&quot;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Horsepower&quot;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Model Year&quot;</span><span class="p">)</span>
    
    <span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;MPG&quot;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Horsepower&quot;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Model Year&quot;</span><span class="p">)</span>
    
    <span class="n">_</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Count&quot;</span><span class="p">)</span>
    
<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Worksheet_2_3_Boot_LinReg_Solutions_15_0.png" src="../../_images/Worksheet_2_3_Boot_LinReg_Solutions_15_0.png" />
</div>
</div>
</section>
<section id="part-4">
<h2>Part 4.<a class="headerlink" href="#part-4" title="Permalink to this headline">#</a></h2>
<p>Use your preferred linear regression package to fit the model.  What are the values of <span class="math notranslate nohighlight">\(\beta_0\)</span>, <span class="math notranslate nohighlight">\(\beta_3\)</span>, and <span class="math notranslate nohighlight">\(\beta_6\)</span>?  If you’re using a package that returns this information, what is the confidence interval for each of the regression coefficients?</p>
<hr class="docutils" />
<p>We’re going to make use of the <code class="docutils literal notranslate"><span class="pre">sklearn.linear_model.LinearRegression</span></code> object because we want to do regression with multiple covariates and to show how we can calculate confidence intervals manually.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">skLinReg</span><span class="p">()</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The fitted model is: `MPG` = </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">intercept_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> + </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> `HP` + </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> `YEAR`&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The fitted model is: `MPG` = -12.74 + -0.13 `HP` + 0.66 `YEAR`
</pre></div>
</div>
</div>
</div>
<p>To get the standard errors in the coefficients, which we need to calculate our MLE confidence intervals, we are going to make use of the fact that the covariance matrix can be calculated as <span class="math notranslate nohighlight">\(\Sigma = \sigma^2(X^TX)^{-1}\)</span>, where <span class="math notranslate nohighlight">\(\sigma^2\)</span> is the variance of the Gaussian noise.  Unfortunately, we don’t know <span class="math notranslate nohighlight">\(\sigma^2\)</span> <em>a priori</em>, so we have to estimate it using the sample variance, <span class="math notranslate nohighlight">\(\hat{\sigma}^2 = \frac{\text{SSR}}{\text{DoF}}\)</span>, where SSR is the sum of the squared residuals and DoF is the degrees of freedom in the data. In this case it is <span class="math notranslate nohighlight">\(\text{DoF} = N - P - 1 = 389\)</span>, where <span class="math notranslate nohighlight">\(N\)</span> is the number of samples (rows in the data) and <span class="math notranslate nohighlight">\(P\)</span> is the number of covariates (columns in the data).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:])</span>
<span class="n">resids</span> <span class="o">=</span> <span class="n">Y</span> <span class="o">-</span> <span class="n">Y_pred</span>
<span class="n">SSR</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">resids</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">N</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span>
<span class="n">sigmaHat</span> <span class="o">=</span> <span class="n">SSR</span> <span class="o">/</span> <span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="n">P</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We then want to calculate <span class="math notranslate nohighlight">\(\hat{\Sigma} = \hat{\sigma}^2(X^TX)^{-1}\)</span>, which we can do after adjusting the covariate matrix a bit.  Note here we’re making use of the builtin <strong>matrix multiplication</strong> operator <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> and the <code class="docutils literal notranslate"><span class="pre">np.linalg</span></code> package, which is designed to do basic linear algebra operations.  The standard errors are then the square roots of the diagonal elements of the covariance matrix.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## We need to add a constant column for the intercept term</span>
<span class="n">X_adj</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">N</span><span class="p">,</span> <span class="n">P</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">X_adj</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="n">X</span>
<span class="n">covarHat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">X_adj</span><span class="o">.</span><span class="n">T</span> <span class="o">@</span> <span class="n">X_adj</span><span class="p">)</span> <span class="o">*</span> <span class="n">sigmaHat</span>

<span class="n">stdErrs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">covarHat</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The standard error in the intercept estimate is: </span><span class="si">{</span><span class="n">stdErrs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The standard error in the beta_4 estimate is: </span><span class="si">{</span><span class="n">stdErrs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The standard error in the beta_7 estimate is: </span><span class="si">{</span><span class="n">stdErrs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The standard error in the intercept estimate is: 5.349
The standard error in the beta_4 estimate is: 0.006341
The standard error in the beta_7 estimate is: 0.06626
</pre></div>
</div>
</div>
</div>
<p>We can compare this to the output from <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> to check our work.</p>
<div class="cell tag_hide-input tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="n">smModel</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">X_adj</span><span class="p">)</span>
<span class="n">smResult</span> <span class="o">=</span> <span class="n">smModel</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">smResult</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.685
Model:                            OLS   Adj. R-squared:                  0.684
Method:                 Least Squares   F-statistic:                     423.9
Date:                Tue, 21 Mar 2023   Prob (F-statistic):           1.94e-98
Time:                        18:37:01   Log-Likelihood:                -1134.5
No. Observations:                 392   AIC:                             2275.
Df Residuals:                     389   BIC:                             2287.
Df Model:                           2                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const        -12.7392      5.349     -2.382      0.018     -23.256      -2.223
x1            -0.1317      0.006    -20.761      0.000      -0.144      -0.119
x2             0.6573      0.066      9.919      0.000       0.527       0.788
==============================================================================
Omnibus:                       11.834   Durbin-Watson:                   1.054
Prob(Omnibus):                  0.003   Jarque-Bera (JB):               12.068
Skew:                           0.400   Prob(JB):                      0.00240
Kurtosis:                       3.316   Cond. No.                     3.20e+03
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 3.2e+03. This might indicate that there are
strong multicollinearity or other numerical problems.
</pre></div>
</div>
</div>
</div>
<p>Finally we can calculate the confidence intervals using the formula</p>
<div class="amsmath math notranslate nohighlight" id="equation-291ee99c-0529-4082-8ca6-34f5b17ac1e9">
<span class="eqno">(31)<a class="headerlink" href="#equation-291ee99c-0529-4082-8ca6-34f5b17ac1e9" title="Permalink to this equation">#</a></span>\[\begin{equation}
CI_{\beta} = \hat{\beta} \pm t_{\alpha/2, \nu}\hat{\sigma}_{\beta},
\end{equation}\]</div>
<p>where <span class="math notranslate nohighlight">\(t_{p, \nu}\)</span> is the <span class="math notranslate nohighlight">\(p^{\text{th}}\)</span> percentile of the <span class="math notranslate nohighlight">\(t\)</span> distribution with <span class="math notranslate nohighlight">\(\nu\)</span> degrees of freedom, <span class="math notranslate nohighlight">\(\hat{\beta}\)</span> is our ML estimate for the regression coefficient, and <span class="math notranslate nohighlight">\(\hat{\sigma}_{\beta}\)</span> is the estimated standard error in the regression coefficient.  Implementing this formula, we get:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">betas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">model</span><span class="o">.</span><span class="n">intercept_</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>  <span class="c1">## hstack &quot;stacks&quot; arrays &quot;H&quot;orizontally</span>
                                                       <span class="c1">## (there&#39;s also a np.vstack)</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">dof</span> <span class="o">=</span> <span class="n">N</span> <span class="o">-</span> <span class="n">P</span> <span class="o">-</span> <span class="mi">1</span>
<span class="n">t_alpha</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">alpha</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">dof</span><span class="p">)</span>

<span class="n">CI_beta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">CI_beta</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">betas</span> <span class="o">+</span> <span class="n">t_alpha</span> <span class="o">*</span> <span class="n">stdErrs</span>
<span class="n">CI_beta</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">betas</span> <span class="o">-</span> <span class="n">t_alpha</span> <span class="o">*</span> <span class="n">stdErrs</span>

<span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Our estimate for beta_</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">betas</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="se">\t</span><span class="s2">(</span><span class="si">{</span><span class="n">CI_beta</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">CI_beta</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Our estimate for beta_0 is -12.74	(-23.26, -2.223)
Our estimate for beta_3 is -0.1317	(-0.1441, -0.1192)
Our estimate for beta_6 is 0.6573	(0.527, 0.7875)
</pre></div>
</div>
</div>
</div>
</section>
<section id="part-5">
<h2>Part 5.<a class="headerlink" href="#part-5" title="Permalink to this headline">#</a></h2>
<p>Generate a new set of <span class="math notranslate nohighlight">\(N\)</span> samples by bootstrapping your data set with replacement.  Run linear regression on this new sample and report the regression coefficients.</p>
<hr class="docutils" />
<p>Importantly here we don’t want to shuffle columns independently, we want to resample the <em>rows</em> of the original data.  This means that we want to draw <em>row indices</em> with replacement.  We’ll do this easily with the <code class="docutils literal notranslate"><span class="pre">np.random.randint</span></code> function.</p>
<p>Looking ahead, we’re going to do this bootstrapping many times, so I’m going to wrap it all in a nice function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bootLinReg</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    
    <span class="n">N</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">P</span> <span class="o">+</span> <span class="mi">1</span>
    
    <span class="n">newIdx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>
    
    <span class="n">newX</span><span class="p">,</span> <span class="n">newY</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">newIdx</span><span class="p">],</span> <span class="n">Y</span><span class="p">[</span><span class="n">newIdx</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The shape of the resampled data is </span><span class="si">{</span><span class="n">newX</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="n">model</span> <span class="o">=</span> <span class="n">skLinReg</span><span class="p">(</span><span class="n">fit_intercept</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">newX</span><span class="p">,</span> <span class="n">newY</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">model</span>

<span class="n">Y</span> <span class="o">=</span> <span class="n">Y</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">X_adj</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">N</span><span class="p">,</span> <span class="n">P</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">X_adj</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="n">X</span>

<span class="n">bootModel</span> <span class="o">=</span> <span class="n">bootLinReg</span><span class="p">(</span><span class="n">X_adj</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">beta_0</span><span class="p">,</span> <span class="n">beta_4</span><span class="p">,</span> <span class="n">beta_7</span> <span class="o">=</span> <span class="n">bootModel</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The fitted model is: `MPG` = </span><span class="si">{</span><span class="n">beta_0</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> + </span><span class="si">{</span><span class="n">beta_4</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> `HP` + </span><span class="si">{</span><span class="n">beta_7</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> `YEAR`&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The shape of the resampled data is (392, 3)
The fitted model is: `MPG` = -5.82 + -0.13 `HP` + 0.56 `YEAR`
</pre></div>
</div>
</div>
</div>
</section>
<section id="part-6">
<h2>Part 6.<a class="headerlink" href="#part-6" title="Permalink to this headline">#</a></h2>
<p>Do the previous step <span class="math notranslate nohighlight">\(N_{BOOT}\)</span> times, where <span class="math notranslate nohighlight">\(N_{BOOT}\)</span> is a suitably large number.  Present the <em>distributions</em> of regression coefficients.  Calculate the 2.5th and 97.5th percentiles of each coefficient.  If you found a confidence interval earlier, compare it to these percentiles.  Plot the point estimates (part 4) of the regression from the data on these distributions; are they near the median, mean, or mode of the distributions?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">N_boot</span> <span class="o">=</span> <span class="mi">10000</span>

<span class="n">Y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">X_adj</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">N</span><span class="p">,</span> <span class="n">P</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">X_adj</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span>

<span class="n">betaBoot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">N_boot</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N_boot</span><span class="p">):</span>
    
    <span class="n">bootModel</span> <span class="o">=</span> <span class="n">bootLinReg</span><span class="p">(</span><span class="n">X_adj</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
    
    <span class="n">betaBoot</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="n">bootModel</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="n">cblind</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s1">&#39;colorblind&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]):</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span>
    <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">betaBoot</span><span class="p">[:,</span> <span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">betaBoot</span><span class="p">[:,</span> <span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="mi">51</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">betaBoot</span><span class="p">[:,</span> <span class="n">ii</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cblind</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                 <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Bootstrapped Samples&#39;</span><span class="p">)</span>
    <span class="n">est_label</span>  <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;$\hat{\beta}_&quot;</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot; = $&quot;</span>
    <span class="n">est_label</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">betas</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="se">\n</span><span class="s2">[</span><span class="si">{</span><span class="n">CI_beta</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">CI_beta</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">]&quot;</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">betas</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">cblind</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=</span><span class="n">est_label</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">CI_beta</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">cblind</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">CI_beta</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">cblind</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
    
    <span class="n">boot_CI</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">betaBoot</span><span class="p">[:,</span> <span class="n">ii</span><span class="p">],</span> <span class="p">[</span><span class="n">alpha</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">])</span>
    
    <span class="n">boot_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Bootstrapped Interval:</span><span class="se">\n</span><span class="s2">[</span><span class="si">{</span><span class="n">boot_CI</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">boot_CI</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.4g</span><span class="si">}</span><span class="s2">]&quot;</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">boot_CI</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">boot_label</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">boot_CI</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
    
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$\hat{\beta}_&quot;</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;$&quot;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Frequency&quot;</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>

<span class="n">_</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Worksheet_2_3_Boot_LinReg_Solutions_30_0.png" src="../../_images/Worksheet_2_3_Boot_LinReg_Solutions_30_0.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./CourseFiles/Module_2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Worksheet_2_3_Boot_LinReg.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Worksheet 2.3: Bootstrapping linear regression</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Assignment_2.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Assignment 2</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Eric Johnson<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>